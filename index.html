<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Espetinho Nota 10</title>

<link rel="manifest" href="manifest.json">

<style>
body{
  margin:0;
  font-family:Arial, sans-serif;
  color:white;
  background:
    linear-gradient(rgba(0,0,0,0.75), rgba(0,0,0,0.75)),
    url("https://images.unsplash.com/photo-1555939594-58d7cb561ad1");
  background-size:cover;
  background-position:center;
}
header{
  text-align:center;
  padding:40px 20px;
  background:#000;
  border-bottom:4px solid #ff9800;
}
header h1{margin:0;color:#ff9800;font-size:36px}
section,.card{
  max-width:900px;
  margin:30px auto;
  padding:25px;
  background:rgba(0,0,0,0.85);
  border-radius:10px;
}
h2{color:#ff9800}
.item{
  display:flex;
  justify-content:space-between;
  background:#1f1f1f;
  padding:15px;
  margin-top:10px;
  border-left:5px solid #ff9800;
  border-radius:8px;
}
input,textarea,select{
  width:100%;
  padding:10px;
  border-radius:6px;
  border:none;
}
.botao{
  display:block;
  margin:15px auto;
  background:#ff9800;
  color:#000;
  padding:15px;
  border-radius:8px;
  font-weight:bold;
  text-align:center;
  cursor:pointer;
}
.whatsapp{
  position:fixed;
  bottom:20px;
  right:20px;
  width:60px;
  height:60px;
  background:#25d366;
  color:white;
  font-size:32px;
  text-align:center;
  line-height:60px;
  border-radius:50%;
  text-decoration:none;
}
.status{
  font-size:18px;
  font-weight:bold;
  margin-top:10px;
}
</style>
</head>

<body>

<header>
<h1>Espetinho Nota 10</h1>
<p>Sabor de verdade na brasa ğŸ”¥</p>
</header>

<section>
<h2>ğŸ•’ Funcionamento & Entrega</h2>
<p><strong>Dias:</strong> Sexta, SÃ¡bado e Domingo</p>
<p><strong>HorÃ¡rio:</strong> 19:00 Ã s 23:00</p>
<p id="statusHoje" class="status">Verificando...</p>
<p id="statusEntrega"></p>
</section>

<section>
<h2>ğŸ¢ CardÃ¡pio</h2>
<div class="item"><span>Gado simples</span><strong>R$ 15</strong></div>
<div class="item"><span>Gado completo</span><strong>R$ 20</strong></div>
<div class="item"><span>Misto-Gado-LinguiÃ§a</span><strong>R$ 25</strong></div>
</section>

<section>
<h2>ğŸ“ Fazer pedido</h2>

<input id="nome" placeholder="Nome">
<select id="produto">
<option value="15">Gado simples - R$15</option>
<option value="20">Gado completo - R$20</option>
<option value="25">Misto-Gado-LinguiÃ§a - R$25</option>
</select>
<input type="number" id="quantidade" value="1" min="1">
<textarea id="endereco" placeholder="EndereÃ§o"></textarea>
<input id="localizacao" readonly placeholder="LocalizaÃ§Ã£o GPS">

<button class="botao" onclick="pegarLocalizacao()">ğŸ“ Usar minha localizaÃ§Ã£o</button>
<p id="total"><strong>Total: R$ 15,00</strong></p>
<button class="botao" onclick="finalizarPedido()">Finalizar Pedido</button>
</section>

<section>
<h2>ğŸ’° Pagamento PIX</h2>
<p>ğŸ“± Chave Pix: <strong>55 99 98477-2668</strong></p>
<img src="https://api.qrserver.com/v1/create-qr-code/?size=300x300&data=PIX-5599984772668"
style="display:block;margin:auto;border-radius:10px">
</section>

<div class="card">
<h2>ğŸ“œ HistÃ³rico de pedidos</h2>
<div id="historico"></div>
<button class="botao" onclick="limparHistorico()">Limpar histÃ³rico</button>
</div>

<footer style="text-align:center;padding:20px;background:#000;">
Â© 2026 - Espetinho Nota 10
</footer>

<a class="whatsapp" href="https://wa.me/5599984772668" target="_blank">ğŸ’¬</a>

<script>
const produto=document.getElementById("produto");
const quantidade=document.getElementById("quantidade");
const total=document.getElementById("total");

function atualizarTotal(){
  total.innerText=`Total: R$ ${(produto.value*quantidade.value).toFixed(2)}`;
}
produto.onchange=atualizarTotal;
quantidade.oninput=atualizarTotal;

function verificarFuncionamento(){
  const agora=new Date();
  const dia=agora.getDay();
  const hora=agora.getHours()+agora.getMinutes()/60;
  const dias=[5,6,0];
  const abertoHoje=dias.includes(dia);
  const abertoAgora=abertoHoje && hora>=19 && hora<23;

  const s=document.getElementById("statusHoje");
  const e=document.getElementById("statusEntrega");

  if(abertoAgora){
    s.innerHTML="ğŸŸ¢ <span style='color:#25d366'>ABERTO AGORA</span>";
    e.innerHTML="ğŸ›µ Entregas funcionando";
  }else if(abertoHoje){
    s.innerHTML="ğŸŸ¡ <span style='color:#ff9800'>ABERTO HOJE</span>";
    e.innerHTML="â° Entregas a partir das 19:00";
  }else{
    s.innerHTML="ğŸ”´ <span style='color:#ff5252'>FECHADO HOJE</span>";
    e.innerHTML="âŒ Sem entregas hoje";
  }
  return abertoAgora;
}

function pegarLocalizacao(){
  navigator.geolocation.getCurrentPosition(pos=>{
    document.getElementById("localizacao").value=
      `https://www.google.com/maps?q=${pos.coords.latitude},${pos.coords.longitude}`;
  });
}

function salvarPedido(p){
  let h=JSON.parse(localStorage.getItem("pedidos"))||[];
  h.unshift(p);
  localStorage.setItem("pedidos",JSON.stringify(h));
}

function carregarHistorico(){
  const h=JSON.parse(localStorage.getItem("pedidos"))||[];
  const d=document.getElementById("historico");
  d.innerHTML=h.length?"":"Nenhum pedido";
  h.forEach(p=>{
    d.innerHTML+=`<p>ğŸ•’ ${p.data} â€” ğŸ’° R$ ${p.total}</p>`;
  });
}

function limparHistorico(){
  localStorage.removeItem("pedidos");
  carregarHistorico();
}

function finalizarPedido(){
  if(!verificarFuncionamento()){
    alert("âŒ Estamos fechados agora.\nFuncionamos sexta a domingo das 19h Ã s 23h.");
    return;
  }

  const totalFinal=(produto.value*quantidade.value).toFixed(2);
  salvarPedido({data:new Date().toLocaleString(),total:totalFinal});
  carregarHistorico();

  const msg=`Pedido Espetinho Nota 10
Nome: ${nome.value}
Produto: ${produto.options[produto.selectedIndex].text}
Qtd: ${quantidade.value}
Total: R$ ${totalFinal}
EndereÃ§o: ${endereco.value}
LocalizaÃ§Ã£o: ${localizacao.value}`;

  window.open("https://wa.me/5599984772668?text="+encodeURIComponent(msg));
}

carregarHistorico();
verificarFuncionamento();
setInterval(verificarFuncionamento,60000);
</script>

</body>
</html>
